# ============================================
# 环境配置模板 (Environment Configuration Template)
# ============================================
# 
# 使用说明:
# 1. 开发环境: 复制此文件为 .env.development 并修改配置
# 2. 正式环境: 复制此文件为 .env.production 并修改配置
#
# 启动方式:
# - 开发环境: start-dev.bat (自动加载 .env.development)
# - 正式环境: docker-compose up -d (自动加载 .env.production)
# ============================================

# 基础配置
DEBUG=true                    # 开发环境: true, 正式环境: false
ENVIRONMENT=development       # development 或 production

# 数据库配置
DATABASE_URL=mysql+aiomysql://user:password@host:3306/database
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis配置
# 开发环境使用 localhost, 正式环境使用 Docker 服务名 redis
REDIS_URL=redis://:redis_password@localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# RabbitMQ配置
# 开发环境使用 localhost, 正式环境使用 Docker 服务名 rabbitmq
RABBITMQ_URL=amqp://admin:admin_password@localhost:5672/

# MinIO配置
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=your_access_key
MINIO_SECRET_KEY=your_secret_key
MINIO_BUCKET=your_bucket
MINIO_SECURE=false

# 安全配置（正式环境请使用强随机密钥！）
SECRET_KEY=your-secret-key-min-32-chars-long-for-jwt-signing
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
ENCRYPTION_KEY=your-encryption-key-32-bytes

# OCR配置
OCR_TIMEOUT=300
OCR_MAX_PARALLEL=4
OCR_DEFAULT_ENGINE=paddleocr
OCR_DEFAULT_LANGUAGE=ch

# Tesseract配置
# 开发环境(Windows): D:/path/to/tesseract.exe
# 正式环境(Docker): /usr/bin/tesseract
TESSERACT_CMD=/usr/bin/tesseract
TESSDATA_PREFIX=/usr/share/tesseract-ocr/5/tessdata

# LLM配置
LLM_BASE_URL=https://api.openai.com/v1
LLM_API_KEY=your_api_key
LLM_MODEL=gpt-4
LLM_TIMEOUT=240
LLM_TOKEN_PRICE=0.002
LLM_MAX_TOKENS=1000000

# UmiOCR配置
UMIOCR_ENDPOINT=http://localhost:1224
UMIOCR_TIMEOUT=60

# 文件处理配置
MAX_FILE_SIZE=20971520
MAX_PAGE_COUNT=50

# 限流配置
RATE_LIMIT_UPLOAD=100
RATE_LIMIT_QUERY=1000

# 数据生命周期配置
FILE_RETENTION_DAYS=30
DATA_RETENTION_DAYS=0

# 缓存配置
CACHE_TTL_RULE_CONFIG=3600
CACHE_TTL_DASHBOARD=300
CACHE_TTL_PREVIEW=3600

# 推送配置
PUSH_RETRY_MAX=3
PUSH_TIMEOUT=30

# 熔断器配置
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=300

# 金蝶K3 Cloud配置
KINGDEE_API_URL=http://your-kingdee-server/k3cloud/
KINGDEE_DB_ID=your_db_id
KINGDEE_USERNAME=your_username
KINGDEE_PASSWORD=your_password
KINGDEE_SAVE_MODE=smart

# CORS配置
CORS_ORIGINS=["http://localhost","http://localhost:5173"]
