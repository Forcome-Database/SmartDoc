# ============================================
# 正式环境配置 (Production Environment)
# 使用方式: docker-compose up -d 启动时自动加载
# ============================================

DEBUG=false
ENVIRONMENT=production

# 数据库配置（正式环境）
DATABASE_URL=mysql+aiomysql://smart_doc_prod:FZySFXpC2aL8haMT@192.168.16.155:3306/smart_doc_prod
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis配置（正式环境 - Docker 内部网络，容器内部使用6379端口）
REDIS_URL=redis://:redis_password@redis:6379/0
REDIS_MAX_CONNECTIONS=50

# RabbitMQ配置（正式环境 - Docker 内部网络，容器内部使用5672端口）
RABBITMQ_URL=amqp://admin:admin_password@rabbitmq:5672/

# MinIO配置
MINIO_ENDPOINT=192.168.16.116:9000
MINIO_ACCESS_KEY=leo
MINIO_SECRET_KEY=a158614924
MINIO_BUCKET=order-sys
MINIO_SECURE=false

# 安全配置（正式环境请修改为强密钥！）
SECRET_KEY=sWw6PiXpUjzNz6T9eBoh2nDj_z3cGRt39a-FpiSdKlM
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
# ENCRYPTION_KEY 留空，系统将自动从 SECRET_KEY 派生加密密钥
ENCRYPTION_KEY=

# OCR配置
OCR_TIMEOUT=300
OCR_MAX_PARALLEL=4
OCR_DEFAULT_ENGINE=paddleocr
OCR_DEFAULT_LANGUAGE=ch

# Tesseract配置（正式环境 - Docker 容器内路径）
TESSERACT_CMD=/usr/bin/tesseract
TESSDATA_PREFIX=/usr/share/tesseract-ocr/5/tessdata

# LLM配置（OpenAI兼容协议）
LLM_BASE_URL=https://api.forcome.com/v1
LLM_API_KEY=sk-YsCqpZdEau5EQL2pkl3KdJ5DhyuAJfZeHIihVGZHsYByY1De
LLM_MODEL=gemini-3-pro-preview
LLM_TIMEOUT=240
LLM_TOKEN_PRICE=0.0002
LLM_MAX_TOKENS=1000000

# UmiOCR配置
UMIOCR_ENDPOINT=http://192.168.16.215:1224
UMIOCR_TIMEOUT=60

# 文件处理配置
MAX_FILE_SIZE=20971520
MAX_PAGE_COUNT=50

# 限流配置（正式环境）
RATE_LIMIT_UPLOAD=100
RATE_LIMIT_QUERY=1000

# 数据生命周期配置
FILE_RETENTION_DAYS=30
DATA_RETENTION_DAYS=0

# 缓存配置
CACHE_TTL_RULE_CONFIG=3600
CACHE_TTL_DASHBOARD=300
CACHE_TTL_PREVIEW=3600

# 推送配置
PUSH_RETRY_MAX=3
PUSH_TIMEOUT=30

# 熔断器配置
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=300

# 金蝶K3 Cloud配置
KINGDEE_API_URL=http://192.168.16.223/k3cloud/
KINGDEE_DB_ID=68d81344f09135
KINGDEE_USERNAME=administrator
KINGDEE_PASSWORD=kingdee@2025
KINGDEE_SAVE_MODE=smart

# CORS配置（正式环境 - 根据实际域名配置）
CORS_ORIGINS= ["http://localhost","http://localhost:85"]
